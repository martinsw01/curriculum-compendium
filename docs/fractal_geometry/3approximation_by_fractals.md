# 3 Approximation by fractals

??? theorem "Theorem 1: Collage theorem"
    $\begin{align*}
        \text{Let } & (X, d) \text{ be a complete metric space} \\
        & \varepsilon > 0 \\
        & A \in \H(X)
    \end{align*}$

    Suppose an IFS $(X, \F)$ can be found s.t.

    $$h(A, \F(A) < \varepsilon$$

    Let $\A = \F(\A)$ be the attractor, and $L:=\Lip \F$.

    $$\implies h(A, \A) \le \frac{\varepsilon}{1-L}$$

    ??? proof
        $$
        \begin{align*}
            h(A, \A) &\le h(A, \F(A)) + h(\F(A, \A) \\
            & < \varepsilon + h(\F(A), \F(\A)) \\
            & \le \varepsilon + L h(A, \A) & \square
        \end{align*}
        $$


??? definition "Definition 1"
    ## Similarity transformation

    A map

    $$
    \begin{align*}
        S : \ & \R^n \to \R^n \text{ s.t.}\\
        & \|S(x) - S(y)\| = s \|x-y\| \tab \forall x, y \in \R^n, s\ge 0
    \end{align*}
    $$

    is called a **similarity (transformation)**. $s$ s the **similarity constant**.

    For $s < 1$, $S$ is a **contractive similitude**.


??? definition "Definition 2"
    === "Homotopy"
        $$
        \begin{align*}
            H_S : \R^n & \to \R^n \\
            x & \mapsto s \ x & s>0
        \end{align*}
        $$

    === "Orthogonal"
        $$
        \begin{align*}
            O : \R^n  \to \R^n \\
            O O^T = O^T O = \I
        \end{align*}
        $$

    === "Translation by $v$"
        $$
        \begin{align*}
            \tau_v : \R^n & \to \R^n \\
            x & \mapsto x + v & v \in R^n
        \end{align*}
        $$


??? proposition "Proposition 1"
    $$S: \R^n \to \R^n \text{ is a similitude} \iff S = H_S \cdot O \cdot \tau_v$$

    ??? proof
        Left as an exercise.

        Hint:
    
        Let $s:=\Lip S > 0$ </br>
        Consider $g(x) = s^{-1} (S(x) - S(0))$  (take out tanslation)


??? definition "Definition 3"
    ## Open set condition (OSC) <a id="d3"></a>

    $\begin{align*}
        \text{Let } & \emptyset \neq X \subseteq \R^n \\
        & (X, \F) \text{ be an IFS of similitudes.}
    \end{align*}$

    The IFS satisfies the **open set condition** if

    $$
    \begin{align*}
        \exists\ &\emptyset \neq G \overset{open}{\subseteq} \R^n \text{ s.t.} \\
        &\bigsqcup_{i=1}^N f_i(G) \subseteq G
    \end{align*}
    $$


??? remark
    Let $s_i:=\Lip f_i$

    $$\implies \sum_{i=1}^N s_i^n < 1$$


??? theorem "Theorem 2"
    $\begin{align*}
        \text{Let } & (X, \F) \text{ be an IFS of similitudes} \\
        & s_i := \Lip f_i
    \end{align*}$

    Suppose $(X, \F)$ satisfies [OSF](#d3)

    $$\implies \dim_H(\A) = d$$

    where $d$ satisfies

    $$\sum_{i=1}^N s_i^d = 1$$

    ??? proof
        Idea:

        Suppose $\begin{align*}\A=\bigsqcup_{i=1}^N f_i(\Alpha)\end{align*}$. (not allways the case!)

        $$
        \begin{align*}
            \H^d(\A) &= \sum_{i=1}^N \H^d(f_i(\A)) \\
            & = \sum_{i=1}^N s_i^d \H^d(\A)
        \end{align*}
        $$


??? theorem
    Let the attractor $\A$ be generated by $(X, \F)$ of affine maps

    $$f_i(x) = A_ix + v_i, \tab A_i \text{ is a matrix}$$

    Then, for almost all $(v_1, ..., v_N)$:

    $$\dim_H \A = \dim_B \A$$

    ??? proof
        By Falcone 1988


??? definition "Definition: Code space"
    ## Code space

    $$\S_N := \{1, ..., N\}^\N$$

    Elements are given by $\s=(\s_1, \s_2, ...) \in \S_N$, with $\s_i \in \{1, ..., N\}$


???+ notation "Notation"
    We have that

    $$
    \begin{align*}
        \F^n(A) &= \bigcup_{i=1}^N f_i(A) \\
        &= \bigcup_{i_1, ..., i_n=1}^N f_{i_1} \circ ... \circ f_{i_n}(A) \tab (*)
    \end{align*}
    $$

    Using elements from the code space $\S_N$, we denote

    $$\begin{align*}
        \s(n)&:=(\s_1, ..., \s_n) \\
        f_{\s(n)}&:=f_{\s_1} \circ ... \circ f_{\s_n}
    \end{align*}$$

    Using this notation, we can reformulate $(*)$ to  

    $$
    \begin{align*}
        \F^n(A) &= \bigcup_{\s(n) \in \S_N} f_{\s(n)}(A) \\
        \A &= \lim_{n\to\infty} \bigcup_{\s(n) \in \S_N} f_{\s(n)}(A)
    \end{align*}
    $$


??? proposition "Proposition: Completeness of the code space"
    ## Completeness of the code space
    
    Let the metric $d_F : \S_N^2 \to \R$ be given by

    $$d_F(\s, \tau):=\sum_{i=1}^\infty \frac{|\s_i-\tau_i|}{(N+1)^i}$$

    $\left(\S_N, d_F\right)$ forms a complete metric space.


??? theorem "Theorem 4"
    Define

    $$
    \begin{align*}
        \gamma : \S_N & \to \alpha \\
        \s & \mapsto \lim_{n\to\infty} f_{\s(n)} (x)
    \end{align*}
    $$

    $$\gamma \text{ is continuous, and independent of } x\in X$$

    ??? proof
        === "Existence and uniqueness"
            $\begin{align*}
                \text{Let } &x, y\in X \\
                &L:=\max_{1\le i\le N} \Lip f_i
            \end{align*}$

            Assuming without loss of generality that $X$ is compact:

            $$
            \begin{align*}
                \implies |f_{\s(n)}(x)-f_{\s(n)}(y)|
                & \le L^n |x-y| \\
                & \le L^n \diam X \\
                |f_{\s(m)}(x)-f_{\s(n)}(y)| & \le L^{n'} \diam X & n':=\min\{n, m\}
            \end{align*}
            $$

            We get a cauchy sequence in $\S_N$ independent of $x\in X$. Thus, the limit exists and is unique.
            $\tab\square$

        === "Continuity"
            Let $\varepsilon >0$

            $$
            \begin{align*}
                \implies
                \begin{cases}
                    \exists\ n \in \N \text{ s.t.} \\
                    L^n \diam X < \varepsilon
                \end{cases}
            \end{align*}
            $$

            $\begin{align*}
                \text{Let } & \s, \tau \in \S_N \text{ s.t.} \\
                & \s(n) = \tau(n)
            \end{align*}$

            Then, we get

            $$
            \begin{align*}
                d_F(\s, \tau)
                &= \sum_{i=n+1}^\infty \frac{\varepsilon}{1-L} < \frac{1}{(N+1)^n} \\
                \implies |\gamma(\s)-\gamma(\tau)|
                &= \lim_{n\to\infty} |f_{\s(n)}(x)-f_{tau(n)}(y)| \\
                & \le L^n \diam X < \varepsilon & \square
            \end{align*}
            $$

        === "Surjectivity"
            Let $y \in \A$. By the definition of $\gamma$

            $$
            \begin{align*}
                \exists\ & (\s_\mu(n)) \subset \S_N \text{ s.t.} \\
                & y = \lim_{n\to\infty} f_{\s_\mu(n)}(x) \\
            \end{align*}
            $$

            As $\S_N$ is compact, we know that there exists a subsequence $(\s_{\nu_\mu})$
            converging to some $\tau\in\S_N$, i.e. $d_F(\s_{\nu_\mu}, \tau) \to 0$

            Let $c(\mu):=\left|\left\{\kappa \in \N : (\s_{\nu_\mu})_j = \tau_j, \ 1 \le j \le \kappa\right\}\right|$
            be the number of elements in $\s_{\nu_\mu}$ agreeing with $\tau$.

            $$
            \begin{align*}
                \implies & c(\mu) \overset{\mu \to \infty}{\to} \infty \\
                \implies & |f_{\s_{\nu_\mu}(n)}(x) - f_{\tau(n)}(x)| \le L^{c(\mu)} \diam X \\
                \implies & y = \gamma (\tau)
            \end{align*}
            $$


???+ remark
    - $\gamma$ is in general not surjective (consider a the sierpinski triangle)
    - if $f_i(A) \cap f_j(A) = 0 \ \forall i \neq j$, then $\gamma$ is injective
    - $\begin{align*}
        \text{Let } & \s \in\S_N \\
        & A \in \H(X) \\
        & A_{\s(n)}:=f_{\s(n)}(A) \\
        & \implies \gamma(\s) = \bigcap_{n=1}^{\infty} A_{\s(n)}
    \end{align*}$


??? definition "Definition: Address set"
    ## Address set

    Let $a \in \A$. The **address set** of $a$ is

    $$\gamma^{-1}(a)$$

    Each element of $\gamma^{-1}(a)$ is called an **address** of $a$.


??? definition "Definition: Totally disconnected IFS"
    ## Totally disconnected IFS

    An IFS is called **totally disconnected** if $\forall a \in \A$

    $$|\gamma^{-1}(a)|=1$$


??? definition "Definition: Maximal address"
    Which representative should be chosen from the address set?

    Define the relation

    $$\prec\ : \S_N \times \S_N$$

    by

    $$\s \prec \omega \iff w_i < \s_i, \tab i=\argmin{j} \s_j \neq \omega_j$$

    1. $\s \not\prec \s$
    2. $\s \prec \tau \land \tau \prec \omega \implies \s \prec \omega$

    $\begin{align*}
        \text{Let } & \iota .= 1\ 1\ 1 ... = \overline 1 \\
        & \omega:= N\ N\ N ... = \overline N \\
        \implies &\forall\ \iota \neq \s \neq \omega : \omega \prec \s \prec \iota
    \end{align*}$


??? proposition

    ## Maximum of the address set

    Let $a\in\A$. $\gamma^{-1}(a)$ has a mixaimal element with respect to $\prec$.
    
    ??? proof
        Let $\s_1$ be the first component of all elements in $\gamma^{-1}(a)$.

        Choose inductively $\s_i$ as the smallest $i$-th component of elements in $\gamma^{-1}(a)$
        whose first $(i-1)$ components are $\s_1, ..., \s_{i-1}$

        $$\implies (\s_1, ..., \s_{i-1}, ...) \text{ is the unique maxiaml point}$$


??? definition "Definition: Tops code space"

    ## Tops function

    $$\tau(\A):=\max\{\gamma^{-1}(a)\}$$

    ## Tops Code Space
    
    $$\Omega := \tau(\A) \subseteq \S_N$$


??? remark
    - $\tau$ is a bijection $\A \to \Omega$
    - $\gamma \circ \tau = \tau \circ \gamma = \I_\A$
    - $\tau^{-1}$ is continuous
    - $\ta$ is not continuous
        