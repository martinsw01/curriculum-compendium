# Krull Dimension and Transcendence Degree

??? definition "Definition: Length"
    $\begin{align*}
        \text{Let } &\M \text{ be a set of sets} \\
        & c \subseteq \M \text{ be a chain}
    \end{align*}$

    $$
    \begin{align*}
        \length c & := |c| - 1 \in \N_0 \cup \{-1, \infty\} \\
        \length \M & := \sup_{c\subseteq \M} \left\{\length c\right\}
    \end{align*}
    $$


??? definition "Definition 4.1"
    ## Krull dimension

    === "Topological space"
        $\begin{align*}
            \text{Let } & X \text{ be a topological space} \\
            & \M \text{ be the set of all closed irreducible subsets of } X
        \end{align*}$

        $$\dim X := \length \M$$

    === "Ring"
        $$\dim R := \dim\left(\Spec R\right) = \length{\Spec R}$$

    === "Pointset"
        Let $X \subseteq K^n$ be a pointset.
        
        $$\dim X \text{ is the dimension of } X \text{ with the Zariski topology}$$

        ??? remark
            For $K = \overline K$, and $X$ an affine variety:

            $$\dim X = \dim\left(K[X]\right)$$

    ??? remark
        For a vector space $V$ and $\M$ the set of suspaces, we have

        $$\dim V = \length \M$$


??? example "Example 4.2"
    === "1"
        - Singletons have dimension $\dim \{P\} = 0$ 
        - The empty set has dimension $\dim \emptyset = -1$ 

    === "2"
        $\begin{align*}
            \text{Let } & K \text{ be an infinite field} \\
            & X = K^1 \text{ be the affine line}
        \end{align*}$

        The only closed irreducibles are $K^1$ and the singletons.

        $$\implies \dim K^1 = 1$$

    === "3"
        $\begin{align*}
            \text{Let } & P \text{ be a plane} \\
            & L \text{ be a line trhough } P \\
            & X = P \cup L
        \end{align*}$

        Let $x \in X$ be a point. Some chains of closed irreducible subsets are

        - $\{x\} \subsetneq L$
        - $\{x\} \subsetneq \text{ curve in P} \subsetneq P$

        $$\implies \dim X \ge 2$$

    === "4"
        - $\dim K = 0$ as a ring
        - $R$ is an artinian ring $\implies \dim R \le 0 \iff \Spec R = \Specmax R$

    === "5"
        $$\dim \Z = 1$$

        This holds for any PID that is not a field (e.g. $K[x]$).

    === "6"
        Let $R=K[x_1, x_2, ...]$ be a polynomial ring of infinite variables.

        $$\dim R = \infty$$

        ??? proof
            Choose $P_i = (x_1, x_2, ..., x_i) \in \Spec R$. </br>
            Then we get a chain of infinite length.


??? remark
    $\begin{align*}
        \text{Let } &X \text{ be a Noetherian topological space} \\
        & Z_1, ..., Z_n \text{ be it's irreducible components}
    \end{align*}$

    $$\dim X = \max \{\dim Z_1, ..., \dim Z_n, -1\}$$

    $X$ is called **equidimensional** if $\dim Z_i = \dim Z_j\ \forall\ i, j$.


??? definition "Definition 4.3"
    ## Transcendence Degree
    Let $A$ be an algebra over a field $K$.

    $$
    \begin{align*}
        \trdeg A &:= \sup \{|T| : T \subseteq A \text{ is finite and algebraically independent}\} \\
        \trdeg \{0\} & := -1
    \end{align*}
    $$


??? remark "Remark 4.4"
    === "a)"
        $\begin{align*}
            \text{Let } & X \text{ be an affine variety} \\
            & K = \overline K \text{ be an algebraically closed field}
        \end{align*}$

        $$\trdeg(K[X]) \ge n \iff \exists\ \phi : K[x_1, .., x_n] \to K[X] \text{ an injective homomorphism}$$

        This is equivalent to finding a doinant morphism $f : X \to K^n$

    === "b)"
        For $A=K[\underline x]/I$, the transcendence degree can calculated by Gröbner basis methods


??? lemma "Lemma 4.5"
    <a id="l45"></a>

    $\begin{align*}
        \text{Let } & A = K[S] \text{ be an algebra over the field} K \text{generated by} \\
        & S \subseteq A
    \end{align*}$

    $$\dim A \le n:=\sup \{|T| : T \subseteq S \text{is a set of algebraically independent elements}\}$$

    ??? proof
        The case $n=\infty$ is trivially correct. Hence, assume $n \in \N_0$.

        ??? proof "Claim: It suffices to show that $\forall\ P \in \Spec A : \dim A/P \le n$."
            Any strictly incresing chain of prime ideals in $A$

            $$P_0 \subsetneq P_1 \subsetneq ... \subsetneq P_m$$

            induces a strictly increasing chain of prime ideals in $A/P_0$

            $$P_0/P_0 \subsetneq P_1/P_0 \subsetneq ... \subsetneq P_m/P_0.$$

            Thus, if $\dim A \le n$, then $m \le n$. Therefore, if we can show that
            $\dim A/P \le n \forall\ P\in\Spec A$, then we get that $\dim A \le n$.

        ??? proof "Claim: Substituting $A$ by $A/P$ and $S$ by $\tilde S:=\{a + P | a \in S\}$ does not increase $n$."
            Let $P \in\Spec A$ and $\tilde T \subseteq \tilde S$. Then $\tilde T$ can be written as

            $$\tilde T=\{t_1 + P, ..., t_k + P | t_1, ..., t_k \in A\}$$

            Then, for $T=\{T_i\}_{i=1}^k$ we have that $|\tilde T| \le |T|$. In particular, we have that

            $$
            \tilde n:=\sup\{|\tilde T| : \tilde T\subseteq\tilde S\text{ is finite and algebraically independent}\}\le n
            $$

        ??? proof "Claim: We may assume w.l.o.g that $A$ is an integral domain"
            For a prime ideal $P\in\Spec A$, the quotient ring $A/P$ is an integral domain. If the statement holds
            for all integral domains, it must hold for all $A/P$, and thus for $A$, which may not be an
            integral domain.

        Induction on $n$:

        === "$n=0$"
            Then $S$ is algebraic over $K$.

            $$
            \begin{align*}
                &\implies \Quot(A) \text{ is algebraic over } K \\
                &\implies A \text{ is algebraic over } K \\
                &\implieshref{../../algebra–geometry_lexicon/hilberts_nullstellensatz/2lemma1.1}{L.1.1a)}
                A \text{ is a field} \\
                &\implies \dim A = 0 & \square
            \end{align*}
            $$

        === "$n>0$"
            Let $P_0 \subsetneq P_1 \subsetneq ... \subsetneq P_m$ be a chain of primes in $A$. We need to
            show that $m\le n$.

            The chain $P_1/P_1 \subsetneq P_2/P_1 \subsetneq ... \subsetneq P_m/P_1$ in $A/P_1$ has
            length $m-1$.

            ??? proof "Claim: If the subset $\tilde T\subset \tilde S$ is algebraically independent in $A/P_1$, then $|T| \le n-1$."
                $\begin{align*}
                    \text{Assume } &\exists\ a_1, ..., a_n \in S \text{ s.t.} \\
                    & a_i + P_1 \text{ is independent in } A/P_1
                \end{align*}$

                $$
                \begin{align*}
                    \implies &a_1, ..., a_m \text{ are linearly independent in } A \\
                    \overset{\text{Def of }n}{\implies} & 
                    \begin{cases}
                        \text{ all elements of } S \text{ are algebraic over } \\
                        L:=\Quot(K[\underline a])
                    \end{cases} \\
                    \implies &\Quot(A) \text{ is algebraic over } L
                \end{align*}
                $$

                Pick any $0\neq a\in P_1$. Then, $a$ is algebraic over $L$, i.e

                $$
                \begin{align*}
                    \exists\ 0\neq &g\in L[x] \\
                    & g = \sum_{i=0}^k g_i x^i & \text{s.t. } g(a) = 0
                \end{align*}
                $$

                Without loss of generality, we may assume $g_0\neq 0$ and $g_i \in K[\underline a]$

                $$
                \begin{align*}
                    \implies &g_0 = -\sum_{i=1}^k g_i a^i \in P_1 \\
                    \implies & g_0(a_1 + P_1, ..., a_n + P_1) = 0_{A/P_1} \contradiction
                \end{align*}
                $$

            Then, we have that $\dim A/P_1 \le n-1$, and by induction:

            $$
            \begin{align*}
                m-1 &\le n-1 \\
                m & \le n & \square
            \end{align*}
            $$


??? theorem "Theorem 4.6"
    ## Dimension of algebras, upper bound

    Let $A$ be a $K$-algebra.

    $$ \implies \dim A \le \trdeg A$$

    ??? proof
        Follows directly from [L.4.5](#l45), using $S=A$.


??? corollary "Corollary: 4.7"

    ## Dimension of a polynomial ring <a id="c47"></a>

    === "$K[\underline x]$"
        $$\dim(K[x_1, ..., x_n]) = n$$

    === "$K^n$"
        $$\dim(K^n) = \begin{cases}n, & K \text{ is an infinite field} \\ 0, & \text{otherwise}\end{cases}$$
    
    ??? proof
        === "$K[\underline x]$"
            Let $S:=\{x_i\}_{i=1}^n$. Then it follows from [L.4.5](#l45) that

            $$\dim(K[\underline x]) \le |S| = n$$

            Moreover, the chain given by

            $$\{0\} \subsetneq (x_1) \subsetneq ... \subsetneq (S)$$

            has length $n$ in $\Spec{K[\underline x]}$. Thus, we have that

            $$\dim(K[\underline x] \ge n$$
    
        === "$K^n$"
            Every chain of closed irreducibles gives rise to a chain of primes in $K[x_1, ..., x_n].$
            This chain cannot have length greater than $n$, yielding

            $$\dim K^n \le n$$

            If $|K|=\infty$, chains of subspaces provode closed irreducibles, yielding

            $$\dim K^n \ge n$$

            If instead $K$ is finite and discrete, the dimension is trivially $0$.
    

??? example "Example 4.8"

    Let $A=K(x_1, ..., x_n)$ be a rational function field.

    $$ \implies \dim A = 0 \le n = \trdeg A$$


??? theorem "Theorem 4.9"

    ## Dimension and transcendence degree <a id="t49"></a>

    Let $A$ be an affine algebra.

    $$ \implies \dim A = \trdeg A$$
    
    ??? proof

        See proof of [P.4.10](#p410).


??? proposition "Proposition 4.10"

    ## Calculating the transcendence degree <a id="p410"></a>

    Let $A=K[S]$ be an affine $K$-algebra

    $$ \implies \trdeg A = \sup \{|T| : T \subseteq S \text{ is finite and algebraically independent}\}$$
    
    ??? proof

        By [L.4.5]($l45), we have that

        $$
        \begin{align*}
            \dim A &\le \sup \{|T| : T \subseteq S \text{ is finite and algebraically independent}\} \\
            & \le \trdeg A
        \end{align*}
        $$

        It remains to be shown that $\trdeg A \le \dim A$.

        We will do this with induction on $n$, with the induction hypothesis being

        $$\trdeg A \ge n \implies \dim A \ge n$$

        This is trivial for $n=0$.

        For $n>0$, we have that there exists $\{a_i\}_{i=1}^n \subseteq A$ being algebraically independent. 

        By [C.2.12](../../algebra–geometry_lexicon/noetherian_and_artinian_rings/7noether_rings_modules/#c212),
        $A$ is Noetherian. Hence, by
        [C.3.14a)](../../algebra–geometry_lexicon/zariski_topology/noeth_irred_spaces/#c314)
        there exists only finitely many minimal ideals $M_1, ..., M_r$ in $A$.

        ??? proof "Claim: $\{a_j/M_i\}_{j=1}^n \subseteq A/M_i$ is algebraically independent."

            $$
            \begin{align*}
               \exists\ 0 \neq f_i & \in K[\underline x] \text{ s.t.} \\
                f_i(\underline a) & \in M_i
            \end{align*}
            $$
    
            $\begin{align*}
                \text{Let } & f:=\prod_{i=1}^r f_i \neq 0 \\
                & \a := f(\underline a) \in \bigcap_{i=1}^{r} M_i = \nil A
            \end{align*}$
    
            This implies there exists some $k$ such that
    
            $$\a^k = f(\underline a)^k = \prod_{i=1}^{r} f_i(\underline a)^k = 0 \contradiction$$
    
            This is a contradiction, as $\{a_i\}_{i=1}^n$ are algebraically independent. Thus, $\{a_j/M_i\}_{j=1}^n$
            is algebraically independent.

        We have that

        $$\dim(A/M_i) \ge n \implies \dim(A) \ge n,$$

        so we may assume $A$ to be an integral domain.

        $\begin{align*}
            \text{Let } & L:=\Quot(K[a_1]) \subseteq \Quot(A) \\
            & A':= L \cdot A \subseteq \Quot(A) \text{ be an affine } L \text{-domain}.
        \end{align*}$

        Thus, $a_2, ..., a_n \in A'$ are algebraiclly independent over $L$. By induction, $\dim A' \ge n-1$,
        yielding a chain

        $$P_0' \subsetneq P_1' \subsetneq \subsetneq ... \subsetneq P_{n-1}'$$

        in $\Spec{A'}$. Let $P_i:=P_i' \cap A \in \Spec A$. Then, $P_i \subseteq P_{i+1}$. As $L \cdot P_i = P_i'$, the
        inclusions are strict.

        ??? proof "Claim: $a_1 + P_i \in A/P_i$ is transcendental."
            Assume it is not.

            $$
            \begin{align*}
                & \implies 
                \begin{cases}
                    \exists &0 \neq f \in K[x] \text{ s.t.} \\
                    & 0\neq f(a_1) \in P_i
                \end{cases} \\
                & \implies f(a_1) \in P_i' \subseteq L \\
                & \implies 1 = \frac{f(a_1)}{f(a_1)} \in P_i' \contradiction
            \end{align*}
            $$

        Thus, $A/P_i$ is not algebraic

        $$
        \begin{align*}
            & \implies A/P_{n-1} \text{ is not algebraic}\\
            & \implieshref{../../algebra–geometry_lexicon/hilberts_nullstellensatz/2lemma1.1/}{L.1.1b)}
            A/P_{n-1} \text{ is not a field} \\
            & \implies P_{n-1} \text{ is not a maximal ideal} \\
            & \implies\begin{cases}
                \exists & P_n \in \Spec A \text{ s.t.} \\
                & P_{n-1} \subsetneq P_n
            \end{cases} \\
            & \implies \exists \text{ a chain of length } n
        \end{align*}
        $$


??? theorem "Theorem 4.11"

    ## 0-dimensional affine algebras <a id="t411"></a>

    Let $A$ be an affine $K$-algebra.

    Then, the following are equivalent.

    1. $\dim A = 0$
    2. $A$ is algebraic
    3. $\dim_K(A) < \infty$ as a $K$-vector space
    4. $A$ is Artinian
    5. $|\Specmax A| < \infty$
    
    ??? proof
        
        === "$(1) \implies (2)$"
            
            $$
            \begin{align*}
                (1) & \implieshref{#t49}{T.4.9} \trdeg A = 0 \\
                & \implies \text{ There are no algebraically independent elements} \\
                & \implies A \text{ is algebraic}
            \end{align*}
            $$

        === "$(2) \implies (3)$"

            $\begin{align*}
                \text{Let } & a_1, ..., a_n \in A \text{ be the generators of } A = K[a_1, ..., a_n] \\
                & 0 \neq g_i \in K[x_i] \text{ s.t. } g_i(a_i) = 0
            \end{align*}$

            Then, $A$ is generated by

            $$S = \left\{\prod_{i=1}^{n} a_i^{e_i} : 0 \le e_i < \deg g_i\right\}$$

            as a $K$-space. Thus, $\dim_K(A) < \infty$ as $|S| < \infty$.

        === "$(3) \implies (4)$"
            The subspaces of $A$ satisfies dcc. Therefore, so do the ideals.

        === "$(4) \implies (5)$"

            By 
            [T.2.8](../../algebra–geometry_lexicon/noetherian_and_artinian_rings/6noetherian_and_artinian_properties/#t28),
            $A$ is Noetherian and $\Spec A = \Specmax A$. 

            Moreover, by [C.3.14a)](../../algebra–geometry_lexicon/zariski_topology/noeth_irred_spaces/#c314),
            $\Spec A$ is finite. Hence, $\Specmax A$ is finite.

        === "$(5) \implies (1)$"
            As $A$ is an affine $K$-algebra, it is a Jacobson-ring.

            Let $P \in \Spec A$

            $$
            \begin{align*}
                \implies & P \text{ is an intersection of maximal ideals} \\
                \overset{(5)}{\implies}
                & P \text{ is a finite intersection of maximal ideals}\\
                \implies & P \text{ is a maximal ideal} \\
                \implies & \Spec A = \Specmax A \\
                \implies & \dim A = 0
            \end{align*}
            $$


??? proposition "Proposition 4.12"

    ## 0-dimensional pointsets <a id="p412"></a>

    Let $X \subseteq K^n$ be a nonempty subset.

    $$\dim X = 0 \iff |X| < \infty$$
    
    ??? proof
        === "$\implies$"
            As the dimention of $X$ is 0, $X$ is a Noetherian subspace.
            Then, it has a finite set of irreducible components $\{Z_i\}_{i=1}^r$.

            Choose any $x_i\in Z_i$

            $$
            \begin{align*}
                \implies & \{x_i\} \subseteq Z_i \\
                \overset{\dim=0}{\implies} &Z_i = \{x_i\} \\
                \implies &X = \{x_1, ..., x_r\}
            \end{align*}
            $$
        

        === "$\impliedby$"
            Let $X = \{x_1, ..., x_r\}$ be finite. Then, chains are of length 0.
            Thus, the dimension is 0.


??? theorem "Theorem 4.13"

    ## Hypersurfaces <a id="t413"></a>

    $\begin{align*}
        \text{Let } & I \properideal K[x_1, ..., x_n] \\
        & A:= K[x_1, ..., x_n]/I
    \end{align*}$

    Then, the following are equivalent.

    1. $\Spec A$ is equidimensional of dimension $n-1$.
    2. Every $P\in\Spec{K[\underline x]}$ that is minimal over $I$ is also minimal among nonzero primes. (Height 1)
    3. $\sqrt I = (g)$ is a prime ideal.

    ??? proof
        Let $\M = \{P \in\Spec{K[\underline x]} | P \text{ minimally oer } I\}$.
        Then, $\M$ is finite.

        Note that $A$ is finitely generated, and thus Noetherian.

        === "$(1) \implies (2)$"
            The minimal primes of $A$ are the $P/I$ for $P\in\M$. We have from
            [L.1.22](../../algebra–geometry_lexicon/hilberts_nullstellensatz/5coordinate_rings/#l122)
            that $K[\underline x]/P \cong A/(P/I)$. Thus

            $$\dim(A/(P/I)) = \dim(K[\underline x]/P) = n-1 \tab \forall P\in\M$$

            which implies $P\neq\{0\}$.

            Assume P is not minimal among the zero ideal, i.e. $\exists Q\in\Spec{K[\underline x]}$ s.t. $\{0\} \subsetneq Q \subsetneq P$.

            Then, there exists a chain of length $n+1$, which is a contradiction to [C.4.7](#c47).

        === "$(2) \implies (3)$"
            For all $P\in \M$, let $g_P$ be a generator of $P$.

            Then, by
            [L.3.14d](../../algebra–geometry_lexicon/noetherian_and_artinian_rings/7noether_rings_modules/#l314),
            we have that

            $$\sqrt I = \bigcap_{P\in\M} P = \bigcap_{P\in\M} (g_P) = (g), \tab g=\prod_{P\in\M} g_P$$
            
            
        === "$(3) \implies (1)$"
            We have that

            $$g=\prod_{i=1}^{r} g_i$$

            with $g_i$ irreducible and

            $$\sqrt I = \bigcap_{i=1}^{r} (g_i)$$

            Then, by minimality, we get that $\M \subseteq \{(q_i)\}_{i=1}^r$

            Using [T.4.9](#t49) + [P.4.10](#p410) on $x_i$, we get that $x_1, ..., x_n$ are algebraically
            dependent, as $g_i(\underline x) \equiv 0 \mod q_i$. Thus, $\dim(K[\underline x]/(q_i)) < n$.

            Let $x_j$ be a variable occuring in $g_i$. Then $\{x_i\}_{i\neq j}$ is algebraically independent
            modulo $g_i$. Hence, $\dim(K[\underline x]/(g_i)) = n-1$ by [T.4.9](#t49) + [P.4.10](#p410).

??? lemma "Lemma 4.14"

    ## Height-one prime ideals in a factorial ring <a id="l414"></a>

    $\begin{align*}
        \text{Let } & R \text{ be a factorial ring} \\
        & P \in \Spec R \text{ be minimal among nonzero primes} \\
    \end{align*}$
    
    $$ \implies P = (a) \tab \text{ for some prime element } a\in R$$

    ??? proof
        
        Let $a\in P$ be a prime element. Then, $\{0\} \subsetneq P \subseteq (a)$.

        Then $(a)=P$, as $P$ is minimal among nonzero primes.